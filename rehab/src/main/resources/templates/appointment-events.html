<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml" lang="en">
<head>
  <meta charset="UTF-8">
  <title>Medical Rehabilitation Center</title>
  <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" type="text/css">
</head>
<body>

<div class="container">
  <header class="d-flex flex-wrap align-items-center justify-content-center justify-content-md-between py-7 mb-7 border-bottom">
    <a href="/" class="d-flex align-items-center col-md-3 mb-2 mb-md-0 text-dark text-decoration-none">
      <img width="120" height="120" th:src="@{/images/start.jpg}"/>
    </a>

    <ul class="nav col-12 col-md-auto mb-2 justify-content-center mb-md-0">
      <li style="font-size: 120%"><a onmouseover="this.style.color='blue'" onmouseout="this.style.color='black'" href="/" class="nav-link px-14 link-secondary">Home</a></li>
      <li style="font-size: 120%"><a onmouseover="this.style.color='blue'" onmouseout="this.style.color='black'" href="/events" class="nav-link px-14 link-secondary">Events</a></li>
      <div sec:authorize="hasAuthority('ADMIN')" >
        <li style="font-size: 120%"><a onmouseover="this.style.color='blue'" onmouseout="this.style.color='black'" href="/admin" class="nav-link px-14 link-secondary">Admin panel</a></li>
      </div>
      <li style="font-size: 120%"><a onmouseover="this.style.color='blue'" onmouseout="this.style.color='black'" href="/about" class="nav-link px-14 link-secondary">About</a></li>
    </ul>

    <div class="col-md-3 text-end">
      <div sec:authorize="isAuthenticated()">
        <a th:href="@{/logout}" name="logout" class="btn btn-outline-danger" role="button">Log out</a>
      </div>
      <div sec:authorize="isAnonymous()">
        <a href = "/login"  class="btn btn-outline-primary me-2" role="button">Login</a>
      </div>
    </div>
  </header>
</div>

<div class="container px-10">
  <div class="row gx-5">
    <div class="col">
      <div class="p-3 border bg-light">
        <h3>Appointment events</h3>
        <div class="text-end">
          <a  class="btn btn-outline-danger" onclick="history.back()" role="button">Back</a>
        </div>
      </div>
    </div>
  </div>
  <br/>
  <div class="container overflow-hidden" th:each = "el:${events}">
    <div class="row mb-3 bg-light">
      <div class="col">
        <div class="p-4">
        <p style="font-size: 120%; font-weight: bold" th:text="${el.appointmentValue}"/>
        </div>
      </div>
      <div class="col">
        <div class="p-4">
        <p style="font-size: 120%; font-weight: bold" th:text="${el.dateString}"/>
        </div>
      </div>
      <div class="col text-end">
             <span th:if="${el.eventStatus == T(com.example.rehab.models.enums.EventStatus).PLANNED}">
                <div class="p-4"><p class="text-warning fw-bold" th:text="${el.eventStatus}"/></div>
                </span>
        <span th:if="${el.eventStatus == T(com.example.rehab.models.enums.EventStatus).COMPLETED}">
                <div class="p-4"><p class="text-success fw-bold" th:text="${el.eventStatus}"/></div>
                </span>
        <span th:if="${el.eventStatus == T(com.example.rehab.models.enums.EventStatus).CANCELED}">
                <div class="p-4"><p class="text-danger fw-bold" th:text="${el.eventStatus + '(' + el.message + ')'}"/></div>
                </span>
      </div>
    </div>
  </div>
</div>


</body>
</html>
